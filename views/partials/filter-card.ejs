<%# Filter Card Partial %>
<%# Usage: include('../partials/filter-card', { 
    action: '/companies',
    filters: filters || {},
    entityType: 'companies'
}) %>

<div class="filter-card">
    <div class="filter-card-content">
        <div class="filter-card-header">
            <i class="fas fa-search text-ruxchai-blue text-xl" aria-hidden="true"></i>
            <h2 class="filter-card-title">ค้นหาและกรองข้อมูล</h2>
        </div>
        <form method="get" action="<%= action %>" class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3">
            <div>
                <label for="search" class="block text-sm font-medium text-gray-700 mb-1">
                    <i class="fas fa-search mr-1" aria-hidden="true"></i>ค้นหา
                </label>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fas fa-search text-gray-400" aria-hidden="true"></i>
                    </div>
                    <input type="text" 
                           name="search" 
                           id="search" 
                           value="<%= filters.search || '' %>"
                           placeholder="ค้นหาด้วยรหัสหรือชื่อ..."
                           class="form-input-enhanced pl-10">
                </div>
            </div>
            
            <div>
                <label for="is_active" class="block text-sm font-medium text-gray-700 mb-1">
                    <i class="fas fa-toggle-on mr-1" aria-hidden="true"></i>สถานะ
                </label>
                <select name="is_active" id="is_active" class="form-input-enhanced">
                    <option value="">ทั้งหมด</option>
                    <option value="true" <%= filters.is_active === 'true' ? 'selected' : '' %>>ใช้งาน</option>
                    <option value="false" <%= filters.is_active === 'false' ? 'selected' : '' %>>ไม่ใช้งาน</option>
                </select>
            </div>
            
            <% if (entityType === 'branches' || entityType === 'divisions' || entityType === 'departments') { %>
                <div>
                    <label for="company_code" class="block text-sm font-medium text-gray-700 mb-1">
                        <i class="fas fa-building mr-1" aria-hidden="true"></i>บริษัท
                    </label>
                    <select name="company_code" id="company_code" class="form-input-enhanced">
                        <option value="">ทุกบริษัท</option>
                        <!-- Company options would be populated by the controller -->
                    </select>
                </div>
            <% } %>
            
            <div class="sm:col-span-2 lg:col-span-3 flex items-end">
                <button type="submit" class="btn btn-primary w-full">
                    <i class="fas fa-search mr-2" aria-hidden="true"></i>
                    ค้นหา
                </button>
            </div>
        </form>
    </div>
</div>