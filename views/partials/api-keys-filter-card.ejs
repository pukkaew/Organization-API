<%# API Keys Filter Card Partial %>
<%# Usage: include('../partials/api-keys-filter-card', { 
    action: '/api-keys',
    query: query || {}
}) %>

<div class="filter-card">
    <div class="filter-card-content">
        <div class="filter-card-header">
            <i class="fas fa-search text-xl" aria-hidden="true"></i>
            <h2 class="filter-card-title">Search & Filter</h2>
        </div>
        <form method="get" action="<%= action %>" class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3">
            <div>
                <label for="search" class="block text-sm font-medium text-gray-700 mb-1">Search</label>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fas fa-search text-gray-400" aria-hidden="true"></i>
                    </div>
                    <input type="text" 
                           name="search" 
                           id="search" 
                           value="<%= query.search || '' %>"
                           placeholder="Search by app name..."
                           class="form-input-enhanced pl-10">
                </div>
            </div>
            
            <div>
                <label for="permissions" class="block text-sm font-medium text-gray-700 mb-1">Permissions</label>
                <select name="permissions" id="permissions" class="form-input-enhanced">
                    <option value="">All Permissions</option>
                    <option value="read" <%= query.permissions === 'read' ? 'selected' : '' %>>Read Only</option>
                    <option value="write" <%= query.permissions === 'write' ? 'selected' : '' %>>Write Only</option>
                    <option value="read,write" <%= query.permissions === 'read,write' ? 'selected' : '' %>>Read & Write</option>
                </select>
            </div>
            
            <div>
                <label for="is_active" class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                <select name="is_active" id="is_active" class="form-input-enhanced">
                    <option value="">All Status</option>
                    <option value="true" <%= query.is_active === 'true' ? 'selected' : '' %>>Active</option>
                    <option value="false" <%= query.is_active === 'false' ? 'selected' : '' %>>Inactive</option>
                </select>
            </div>
            
            <div class="sm:col-span-2 lg:col-span-3 flex items-end">
                <button type="submit" class="btn btn-primary w-full">
                    <i class="fas fa-search mr-2" aria-hidden="true"></i>
                    Apply Filters
                </button>
            </div>
        </form>
    </div>
</div>